<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>A-Yudi-Thea | Stock Konter</title>

<style>
body{font-family:Arial;background:#f2f2f2;margin:0;padding:10px}
header{background:#0d47a1;color:#fff;padding:20px;text-align:center}
input{width:100%;padding:12px;font-size:16px;margin:15px 0}
.card{background:#fff;padding:10px;margin-bottom:10px;border-radius:8px}
.harga{color:red;font-weight:bold}
.stok{color:green}
</style>

</head>

<body>

<header>
<h2>A-Yudi-Thea</h2>
<p>Pencarian Produk Konter</p>
</header>

<input id="cari" placeholder="Cari kode / nama barang..." onkeyup="filter()">

<div id="hasil"></div>

<script>

const sheet="2PACX-1vTAP_R50frV13whqx54ctjplc-8xhcN53rHEVk5mkhLeZE283xWnr6TdTBFr-KFymEiaYE_NWgGthpo";
const url=`https://opensheet.elk.sh/${sheet}/Stock%20Konter`;

fetch(url)
.then(r=>r.json())
.then(d=>{
window.data=d;
tampil(d);
});

function tampil(d){
hasil.innerHTML="";
d.forEach(p=>{
if(p.Sisa>0){
hasil.innerHTML+=`
<div class="card">
<b>${p.Kode}</b><br>
${p["Nama barang"]}<br>
<span class="harga">Rp ${p.Harga}</span><br>
<span class="stok">Stok: ${p.Sisa}</span>
</div>`;
}
});
}

function filter(){
let q=cari.value.toLowerCase();
let f=data.filter(p=>
p.Kode.toLowerCase().includes(q) ||
p["Nama barang"].toLowerCase().includes(q)
);
tampil(f);
}

</script>

</body>
</html>