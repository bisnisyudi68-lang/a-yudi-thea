<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Katalog LCD</title>

<style>
:root{
  --primary:#2aa84a;
  --bg:#f4f6f8;
  --card:#ffffff;
  --text:#222;
  --muted:#666;
}

*{box-sizing:border-box}

body{
  font-family: Arial, sans-serif;
  background:var(--bg);
  margin:0;
  padding-bottom:80px;
  color:var(--text);
}

/* HEADER */
.header{
  background:var(--primary);
  color:#fff;
  padding:16px;
  text-align:center;
  font-size:18px;
  font-weight:bold;
}

/* SEARCH */
.search-box{
  padding:12px;
}
.search-box input{
  width:100%;
  padding:12px 14px;
  border-radius:10px;
  border:1px solid #ddd;
  font-size:15px;
}

/* LIST */
.list{
  padding:12px;
}

/* CARD PRODUK */
.produk{
  background:var(--card);
  border-radius:12px;
  padding:14px;
  margin-bottom:12px;
  box-shadow:0 2px 6px rgba(0,0,0,.08);
}

.produk label{
  display:flex;
  gap:12px;
  cursor:pointer;
}

.produk input{
  transform:scale(1.3);
  margin-top:4px;
}

.nama{
  font-weight:bold;
  font-size:15px;
}

.harga{
  font-size:14px;
  color:var(--muted);
  margin-top:4px;
}

/* FLOATING WA BUTTON */
.wa{
  position:fixed;
  left:12px;
  right:12px;
  bottom:12px;
  padding:16px;
  background:#25D366;
  color:#fff;
  border:none;
  border-radius:14px;
  font-size:22px;
  font-weight:bold;
  box-shadow:0 4px 10px rgba(0,0,0,.25);
}
</style>
</head>

<body>

<div class="header">
  ðŸ“± Katalog LCD Profesional<br>
Pengambilan 20pcs tempo 30 hari
</div>

<div class="search-box">
  <input type="text" id="search" placeholder="Cari LCD (contoh: Samsung A10)">
</div>

<div id="list" class="list">Loading data...</div>

<button class="wa" onclick="kirimWA()">ðŸ›’ Kirim ke WhatsApp</button>

<script>
/* ===============================
   SIMPAN CEKLIST (MEMORY SAJA)
================================ */
const selectedLCD = new Set();

/* ===============================
   LINK CSV LCD
================================ */
const CSV_URL =
"https://docs.google.com/spreadsheets/d/e/2PACX-1vR-bDX_S5Cwma6e7vlf8Of4XVwccJ9ukNFZODZg08gqRgjaK7gCN5xMIFIgMgAbgXw44dz8BrinQBBR/pub?gid=1950799771&single=true&output=csv";

let data = [];

/* ===============================
   LOAD DATA
================================ */
fetch(CSV_URL)
.then(r => r.text())
.then(t => {
  const rows = t.split("\n").slice(3);
  data = rows.map(r => r.split(",")).filter(r => r[0]);
  render(data);
});

/* ===============================
   RENDER LCD
================================ */
function render(arr){
  let html = "";

  arr.forEach(r => {
    const nama = r[0];
    const program = r[1] || "-";
    const tempo = r[2] || "-";
    const key = nama + " | " + program + " | " + tempo;

    html += `
      <div class="item">
        <input type="checkbox"
          ${selectedLCD.has(key) ? "checked" : ""}
          onchange="
            this.checked
              ? selectedLCD.add('${key}')
              : selectedLCD.delete('${key}')
          "
        >
        <div>
          <div class="nama">${nama}</div>
          <div class="harga">
            Program: ${program}<br>
            Tempo: ${tempo}
          </div>
        </div>
      </div>
    `;
  });

  document.getElementById("list").innerHTML = html;
}

/* ===============================
   SEARCH LCD
================================ */
function filter(){
  const q = document.getElementById("cari").value.toLowerCase();
  render(data.filter(r => r[0].toLowerCase().includes(q)));
}

/* ===============================
   KIRIM WA
================================ */
function kirimWA(){
  if(!selectedLCD.size){
    alert("Pilih LCD dulu");
    return;
  }

  const pesan = [...selectedLCD].join("%0A");
  location.href =
    "https://wa.me/6282319264646?text=Order LCD:%0A" + pesan;
}
</script>
</body>
</html>