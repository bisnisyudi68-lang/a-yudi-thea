<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YUDI DIAG PRO</title>

<style>
body{
    margin:0;
    font-family:'Segoe UI',sans-serif;
    background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
    color:white;
}

.container{
    max-width:500px;
    margin:40px auto;
    background:rgba(255,255,255,0.08);
    padding:25px;
    border-radius:20px;
    backdrop-filter:blur(15px);
}

h2{text-align:center;margin-bottom:20px;}

input,select,button{
    width:100%;
    padding:12px;
    margin:10px 0;
    border-radius:12px;
    border:none;
    font-size:14px;
}

button{
    background:#00c6ff;
    font-weight:bold;
    cursor:pointer;
}

.result{
    margin-top:15px;
    padding:15px;
    border-radius:15px;
}

.ringan{background:#1b5e20;}
.sedang{background:#f9a825;color:black;}
.berat{background:#b71c1c;}

.history{
    margin-top:20px;
    font-size:13px;
    opacity:0.9;
}
</style>
</head>

<body>

<div class="container">

<h2>ðŸ”§ YUDI DIAG PRO</h2>

<input type="text" id="nama" placeholder="Nama Customer">

<!-- POWER SUPPLY -->
<select id="arusPSU">
<option value="">Reaksi Power Supply</option>
<option value="mati">0.00A</option>
<option value="short">Short 0.5A+</option>
<option value="naikturun">Naik Turun</option>
<option value="stabil">Stabil 0.5A+</option>
</select>

<!-- DETEKSI USB -->
<select id="usbDetect">
<option value="">Deteksi USB</option>
<option value="none">Tidak Terdeteksi</option>
<option value="preloader">Preloader (MTK)</option>
<option value="9008">9008 (Qualcomm)</option>
<option value="normal">Android Device</option>
</select>

<!-- USB DOCTOR -->
<select id="usbDoctor">
<option value="">Arus USB Doctor</option>
<option value="0">0.00A</option>
<option value="low">0.05â€“0.20A</option>
<option value="mid">0.30â€“0.50A</option>
<option value="high">1A+</option>
</select>

<button onclick="diagnosa()">ANALISA</button>

<div id="hasil"></div>

<div class="history">
<h4>Riwayat Diagnosa</h4>
<div id="riwayat"></div>
</div>

</div>

<script>

function diagnosa(){

let nama = document.getElementById("nama").value;
let psu = document.getElementById("arusPSU").value;
let usb = document.getElementById("usbDetect").value;
let doctor = document.getElementById("usbDoctor").value;

let text="Data belum cukup";
let level="sedang";

/* LOGIKA ANALISA */

// PRIORITAS SHORT
if(psu=="short" || doctor=="high"){
    text="ðŸ”´ SHORT jalur VBAT / IC Power (85%)";
    level="berat";
}

// MATI TOTAL
else if(psu=="mati" && doctor=="0"){
    text="ðŸ”´ Jalur baterai / IC Charger rusak (75%)";
    level="berat";
}

// SOFTWARE / EMMC
else if(psu=="naikturun" && (usb=="preloader" || usb=="9008")){
    text="ðŸŸ¡ Kemungkinan Software / EMMC Lemah (70%)";
    level="sedang";
}

// DISPLAY
else if(psu=="stabil" && doctor=="mid"){
    text="ðŸŸ¢ CPU aktif. Cek LCD / Backlight (65%)";
    level="ringan";
}

let box=document.getElementById("hasil");
box.className="result "+level;
box.innerHTML="<b>"+text+"</b>";

/* SIMPAN RIWAYAT */

let data={
    nama:nama,
    hasil:text,
    waktu:new Date().toLocaleString()
};

let history=JSON.parse(localStorage.getItem("diagHistory"))||[];
history.push(data);
localStorage.setItem("diagHistory",JSON.stringify(history));

loadHistory();
}

function loadHistory(){
let history=JSON.parse(localStorage.getItem("diagHistory"))||[];
let output="";
history.slice(-5).reverse().forEach(h=>{
    output+=`<div>${h.waktu} - ${h.nama} - ${h.hasil}</div>`;
});
document.getElementById("riwayat").innerHTML=output;
}

loadHistory();

</script>

</body>
</html>